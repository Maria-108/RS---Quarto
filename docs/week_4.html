<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>RS - Quarto - 4&nbsp; Week 4 - Policy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./week_5.html" rel="next">
<link href="./week_3.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./week_4.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 4 - Policy</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">RS - Quarto</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Week 1 - Introduction to Remote Sensing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Week 2 - Satellite Presentation of CALIPSO via Xaringen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week 3 - Corrections</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_4.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 4 - Policy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week 5 - Google Earth Engine (GEE)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Week 6 - Classification 1</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Week 7 - Classification 2</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Week 8 - Synthetic Aperture Radar (SAR)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary"><span class="header-section-number">4.1</span> Summary</a></li>
  <li><a href="#applications" id="toc-applications" class="nav-link" data-scroll-target="#applications"><span class="header-section-number">4.2</span> Applications</a></li>
  <li><a href="#reflections" id="toc-reflections" class="nav-link" data-scroll-target="#reflections"><span class="header-section-number">4.3</span> Reflections</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">4.4</span> References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 4 - Policy</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="summary" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="summary"><span class="header-section-number">4.1</span> Summary</h2>
<p>For this week’s task, I chose to look into Sydney’s Green Roof &amp; Wall policy that was first introduced in 2014. The City of Sydney has already implemented this policy a decade ago, but has undergone slow progress which recorded 98,000m<sup>2</sup> of green roofs and walls installed in March 2014, but currently this only equates to less than 1% of available roof space across the city (see bottom left image below). The local council set out a criteria that demands a minimum 30% vegetation cover to be installed in order to be considered as a “green roof”. 18% of Sydney’s central business district has potential to be retrofitted to accommodate the green roof policy.</p>
<p><img src="images/32B08BCC-AC84-4D6F-A398-3C5C433F2B60_1_201_a-01.jpeg" class="img-fluid"></p>
<p><img src="images/692DDBE2-07A6-4FB2-9080-C3A63A18E36E_1_201_a.jpeg" class="img-fluid"></p>
<p><sub>Image&nbsp;source&nbsp;of&nbsp;top&nbsp;two&nbsp;and&nbsp;bottom&nbsp;left&nbsp;photo:&nbsp;City&nbsp;of&nbsp;Sydney&nbsp;(2024)</sub></p>
<p><sub>Image&nbsp;source&nbsp;of&nbsp;bottom&nbsp;right&nbsp;graph:&nbsp;Williams&nbsp;et&nbsp;al.&nbsp;(2021)</sub></p>
<p>The bottom right image is taken from Williams et al.&nbsp;(2021) study which shows what types of buildings have implemented green roofs in Melbourne. When you compare this to the types of buildings listed to have either implemented a green roof or a green wall by the City of Sydney (bottom right image), it can assumed that Sydney also prioritised commercial buildings (in this case hotels), residential apartments and buildings such as 1 Bligh Street which is located in the central business district.</p>
<p>There are several benefits that are generated through the implementation of the green roof policy:</p>
<ul>
<li><p><span style="color: #92C969"><strong>Air quality</strong></span> - an increase in vegetation helps remove any harmful pollutants that may circulate the air.</p></li>
<li><p><span style="color: #92C969"><strong>Biodiversity</strong></span> - can attract and support habitats of local fauna and flora</p></li>
<li><p><span style="color: #92C969"><strong>Insulation</strong></span> - the multi-layering of different components that compose a green roof help to <em>“reduce the reliance on active heating and cooling, which helps reduce energy consumption”</em>.</p></li>
<li><p><span style="color: #92C969"><strong>Noise</strong></span> - similar to the previous point, the layering and insulation provide and additional benefit of sound insulation, which reduce potential noise pollution from the surrounding active urban environment</p></li>
<li><p><span style="color: #92C969"><strong>Space</strong></span> - <em>“previously unused space can be turned into valuable space for recreation, gardening, growing food etc”</em>.</p></li>
<li><p><span style="color: #92C969"><strong>Roof life</strong></span> - according to the local council, upgrading a roof through this strategy can extend a roof’s lifespan by up to 40 years. This is due to the fact that the extensive layering of a roof (as seen in the right-hand image above) limits the exposure to the Sun and harsh climate conditions.</p></li>
<li><p><span style="color: #92C969"><strong>Urban heat island effect</strong></span> - green roofs help to combat this as the vegetative layer is known to reduce surface air temperatures.</p></li>
</ul>
</section>
<section id="applications" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="applications"><span class="header-section-number">4.2</span> Applications</h2>
<p>There are several ways in which remote sensing can be implemented into Sydney’s Green Roof Policy. Although this policy was already implemented in 2014, it can be argued that there is scope to extend the project through detecting how many buildings can upgrade to a green roof, along side accommodating for the existing 18% of potential buildings that were detected prior to this. Additionally, the effects of green roofs on temperature reduction can be further studied by researcher when a significant amount of green roofs have been implemented in accordance to their policy aims towards a greener and sustainable city.</p>
<ul>
<li><p><span style="color: #6DB474"><strong>Measuring roof space</strong></span> - this can be done through using SAR (synthetic aperture radar) data, which can detect the housing footprints, as it extracts polygon data to obtain the square footage of each building that has the potential to install a green roof. These measurements can be compared to construction data to ensure the measurements recorded align with the extracted data from the satellite. Additionally, Bartesaghi-Koc et al.&nbsp;(2020) state that <em>“LiDAR can be used to detect building footprints”</em>.</p></li>
<li><p><span style="color: #6DB474"><strong>Detecting vegetation</strong></span> - the NDVI (Normalised Difference Vegetation Index) data can be extracted which will be able to detect the vegetation from existing buildings with implemented green roofs. Given that a minimum of 30% vegetation cover is required to meet the criteria from the city council, this can be paired up with roof measurements to detect which buildings are compatible with these requirements.</p></li>
<li><p><span style="color: #6DB474"><strong>Time-scale comparison</strong></span> - according to NASA Landsat Science (2024), GISS analysts used Landsat data to study how green roofs impacted temperature change in Chicago. Similarly, Sydney can use this data to present and compare before and after installing green roofs, and how increasing the scale of green roofs over time influence (ideally to reduce) temperatures, thus combating the urban heat island effect.</p></li>
<li><p><span style="color: #6DB474"><strong>Temperature change</strong></span> - Li et al.&nbsp;(2022) argues that this can be detected through several satellites such as Terra, Aqua and many more. LST (land surface temperature) can be measured and compared to a before and after period to test the extent of influence green roof implementation has on reducing temperatures. Additionally, Bartesaghi-Koc et al.&nbsp;(2020) conducted a study where they assessed NDVI data from summer and winter recordings using <em>“Visible (RED) and Near Infrared (NIR) reflectance bands”</em> to gain insight on whether compare tree cover results in cooling the temperature. Perhaps the same methods can be applied to detect the increase of vegetation and its impact on cooling the air temperature in order to reduce the urban heat island effect in Sydney.</p></li>
</ul>
</section>
<section id="reflections" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="reflections"><span class="header-section-number">4.3</span> Reflections</h2>
<p>In researching Sydney’s policy it was surprising to see how only less than 1% (53 buildings) have implemented green roofs to abide with the city’s policy. Although the policy does not directly state particular requirements in terms of quantity or building types that must adopt the policy, rather it states the benefits of implementing such green roofs and walls, it is still relatively shocking to see how little progress has been made, given that it has been a decade since its original installation. Perhaps there are several limitations to installing green roofs that may not be explicitly stated such as the cost of installation, availability of roofs and existing quality of roofs that may determine whether or not the buildings’ roof can sustain such upgrades.</p>
<p>Given that remote sensing enables the ease of detecting physical features within the environment, it was interesting to see how satellite data can be used for urban purposes. The policy promotes a solution whose main focus is designed towards tackling the urban heat island effect, but also produces social benefits such as generating usable space, reducing noise, and creating aesthetically appealing buildings which creates attraction towards a place. Although remote sensing cannot measure these social additions, it was interesting to see how it can measure the physical features such as vegetation, building footprints and air temperature to assess to what extent does implementing such policies create a positive environmental impacts, that would bring Sydney closer to achieving their sustainability goals.</p>
</section>
<section id="references" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="references"><span class="header-section-number">4.4</span> References</h2>
<p>Bartesaghi-Koc, C. et al.&nbsp;(2020) Quantifying the second cooling capacity of ‘green infrastructure types’ (GITs): An approach to assess and mitigate surface urban heat island in Sydney, Australia. <em>Landscape and Urban Planning.</em> 203, pg 1-21. [Online] Available via: <a href="https://www.sciencedirect.com/science/article/pii/S0169204620301407" class="uri">https://www.sciencedirect.com/science/article/pii/S0169204620301407</a></p>
<p>City of Syndey (2024) <a href="https://www.cityofsydney.nsw.gov.au/environmental-support-funding/green-roofs-and-walls" class="uri">https://www.cityofsydney.nsw.gov.au/environmental-support-funding/green-roofs-and-walls</a></p>
<ul>
<li><p>Green roofs and wall policy <a href="https://www.cityofsydney.nsw.gov.au/-/media/corporate/files/2020-07-migrated/files_g/green-roofs-and-walls-policy.pdf?download=true" class="uri">https://www.cityofsydney.nsw.gov.au/-/media/corporate/files/2020-07-migrated/files_g/green-roofs-and-walls-policy.pdf?download=true</a></p></li>
<li><p>Green roofs and wall policy implementation plan <a href="https://www.cityofsydney.nsw.gov.au/-/media/corporate/files/2020-07-migrated/files_g/green-roofs-and-walls-policy-implementation-plan-adopted.pdf?download=true" class="uri">https://www.cityofsydney.nsw.gov.au/-/media/corporate/files/2020-07-migrated/files_g/green-roofs-and-walls-policy-implementation-plan-adopted.pdf?download=true</a></p></li>
<li><p>Green roofs and walls in the local area: <a href="https://www.cityofsydney.nsw.gov.au/-/media/corporate/files/2020-07-migrated/files_m/map-green-roofs-walls-cos-lga2.pdf?download=true" class="uri">https://www.cityofsydney.nsw.gov.au/-/media/corporate/files/2020-07-migrated/files_m/map-green-roofs-walls-cos-lga2.pdf?download=true</a></p></li>
</ul>
<p>Li, Z. L. et al.&nbsp;(2022) Satellite Remote Sensing of Global Land Surface Temperature: Definition, Methods, Products and Applications. Reviews of Geophysics. 61(1), pg 1-77. [Online] Available via:<a href="https://agupubs.onlinelibrary.wiley.com/doi/10.1029/2022RG000777" class="uri">https://agupubs.onlinelibrary.wiley.com/doi/10.1029/2022RG000777</a></p>
<p>NASA Landsat Science (2024) <a href="https://landsat.gsfc.nasa.gov/article/finding-ways-to-turn-down-the-heat-in-cities-with-satellites/" class="uri">https://landsat.gsfc.nasa.gov/article/finding-ways-to-turn-down-the-heat-in-cities-with-satellites/</a></p>
<p>Williams, N.S.G et al.&nbsp;(2021) Ten years of greening a wide brown land: A synthesis of Australian green roof research and roadmap forward. Urban Forestry &amp; Urban Greening. 62, pg 1-10. [Online] Available via: <a href="https://www.sciencedirect.com/science/article/pii/S1618866721002041" class="uri">https://www.sciencedirect.com/science/article/pii/S1618866721002041</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./week_3.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week 3 - Corrections</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./week_5.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week 5 - Google Earth Engine (GEE)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>